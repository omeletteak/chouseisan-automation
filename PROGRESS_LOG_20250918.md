# プロジェクト進捗ログ (2025/09/18)

## 1. プロジェクト目標

Discordで発表されたスケジュール情報を自動で抽出し、調整さんでのイベント作成・管理、そしてGoogleカレンダーへの登録までを一貫して自動化することで、手動での入力作業をなくし、効率的なスケジュール管理を実現する。

## 2. 完了したこと (フェーズ1)

調整さんのイベントページから情報を読み取り、データベースに保存する機能は完了済み。

- **HTMLコンテンツの取得:** `requests` ライブラリを使用して実装。
- **データ抽出:** `BeautifulSoup` を利用し、ページに埋め込まれたJavaScript内のJSONデータを解析する方式で実装。HTMLの構造変更に強い、安定したデータ抽出が可能。
- **データ構造化:** `dataclasses` を用い、イベント、参加者、日程、出欠情報をそれぞれクラスとして定義。
- **データベース保存:** 抽出したデータをSQLiteデータベースに保存する機能を実装。

## 3. 現在のタスク (フェーズ2: 自動書き込み機能)

プログラムから調整さんのイベントを作成したり、出欠を登録したりする機能の実装に取り組んでいる。

### 3.1. イベント作成機能

- **状況:** **完了**
- **アプローチ:** `Selenium` を利用してブラウザ操作を自動化し、イベント作成フォームへの入力を実現。

### 3.2. 出欠登録機能

- **状況:** **実装中・課題あり**
- **課題:**
    - 当初、`Selenium` を使ったアプローチを試みたが、調整さんサイトのボット検出機能によりアクセスがタイムアウトする問題が頻発。
    - `undetected-chromedriver` などのライブラリを使用しても、環境的な要因でタイムアウトを回避できなかった。
- **現在のアプローチ:**
    - `Selenium` を使わず、Pythonの `requests` ライブラリでサーバーに直接HTTPリクエストを送信し、API通信を模倣する方式に切り替え。
    - この方法により、ボット検出を回避し、安定した処理を目指している。
- **直近の状況:**
    - `requests` での実装中に `SyntaxError` が発生し、現在その修正を行っている段階。
